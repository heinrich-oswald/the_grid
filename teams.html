<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>The Grid ‚Äî Teams Event</title>
  <!-- Spectacular Enhancements -->
  <link rel="stylesheet" href="spectacular.css">
  <script src="spectacular_optimized.js" defer></script>
  <!-- Common Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;600;700&family=Inter:wght@400;500;700;900&family=Space+Grotesk:wght@400;500;700;900&display=swap" rel="stylesheet">
  <style>
    /* Base CSS Variables */
    :root {
      --bg: #050505;
      --paper: #f5f5f5;
      --muted: rgba(245, 245, 245, 0.7);
      --glass: rgba(0, 255, 127, 0.07);
      --card-glass: rgba(18, 18, 18, 0.75);
      --border-glass: rgba(255, 255, 255, 0.08);
      --border-glass-hover: rgba(255, 255, 255, 0.12);
      --accent1:#ffdd00;
      --accent2:#ccb300;
      --accent3:#ff69b4;
      --glass:rgba(255,221,0,0.05);
      --border-glass:rgba(255,221,0,0.1);
      --border-glass-hover:rgba(255,221,0,0.2);
      --accent1-glow:rgba(255,221,0,0.3);
      /* Override shared glow vars so nav/buttons highlight gold, not red */
      --primary-glow: rgba(255,221,0,0.6);
      --secondary-glow: rgba(255, 230, 77, 0.5);
    }
    
    /* Base Styling */
    html, body {
      height: 100%;
      margin: 0;
      font-family: Inter, system-ui, sans-serif;
      scroll-behavior: smooth;
    }
    /* Remove default link underlines on this page */
    a { text-decoration: none; }
    
    body {
      background: linear-gradient(135deg, var(--bg) 0%, #030704 40%, #070f09 80%);
      color: var(--paper);
      position: relative;
      overflow-x: hidden;
      min-height: 100vh;
      font-size: 16px;
      line-height: 1.5;
    }
    
    /* Dynamic Grid Background */
    body::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image:
        radial-gradient(circle at 30px 30px, rgba(138, 132, 78, 0.05) 1px, transparent 0),
        linear-gradient(to right, transparent 99.5%, rgba(138, 132, 78, 0.06) 99.5%, rgba(138, 132, 78, 0.06) 100%),
        linear-gradient(to bottom, transparent 99.5%, rgba(138, 132, 78, 0.06) 99.5%, rgba(138, 132, 78, 0.06) 100%);
      background-size: 60px 60px, 60px 60px, 60px 60px;
      z-index: -1;
    }
    
    /* Main Container */
    .wrap {
      max-width: 1200px;
      margin: 24px auto;
      padding: 18px;
    }
    
    /* Common Navigation */
    .nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      padding: 20px 30px;
      border-radius: 12px;
      background: linear-gradient(135deg, rgba(0, 0, 0, 0.7), rgba(0, 40, 20, 0.7));
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid var(--border-glass);
      position: sticky;
      top: 24px;
      z-index: 100;
      transition: all 0.3s ease;
    }
    
    .brand {
      display: flex;
      align-items: center;
      gap: 14px;
    }
    
    .logo {
      width: 45px;
      height: 45px;
      margin-right: 12px;
      transition: transform 0.3s ease;
      border-radius: 12px;
      background: linear-gradient(135deg, var(--accent1) 90%, var(--accent3) 10%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 900;
      color: var(--paper);
      font-size: 24px;
      position: relative;
      overflow: hidden;
    }
    
    .logo::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 50%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transform: skewX(-20deg);
      animation: logoShine 3s ease-in-out infinite;
    }
    
    .logo:hover {
      transform: scale(1.05);
      box-shadow: var(--accent1-glow);
    }
    
    .brand-title {
      font-size: 24px;
      font-weight: 700;
      color: #fff;
      text-shadow: 0 0 10px rgba(0, 245, 255, 0.5);
      margin: 0;
      padding: 0;
      line-height: 1.2;
    }
    
    .brand-sub {
      font-size: 12px;
      color: var(--muted);
      font-family: 'Rajdhani', sans-serif;
      letter-spacing: 0.5px;
    }
    
    /* Scanline Effect */
    .scanlines {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 99;
      pointer-events: none;
      background: repeating-linear-gradient(
        0deg,
        rgba(0, 0, 0, 0.05),
        rgba(0, 0, 0, 0.05) 1px,
        transparent 1px,
        transparent 2px
      );
    }
    
    /* Responsive Navigation */
    @media (max-width: 880px) {
      .nav {
        flex-direction: column;
        gap: 16px;
        padding: 16px 20px;
      }
      
      .brand {
        flex-direction: column;
        text-align: center;
        gap: 8px;
      }
      
      .logo {
        width: 40px;
        height: 40px;
        margin-right: 0;
      }
      
      .brand-title {
        font-size: 20px;
      }
      
      .nav > div:last-child {
        flex-wrap: wrap;
        justify-content: center;
        gap: 8px;
      }
      
      .btn {
        padding: 10px 16px;
        font-size: 14px;
      }
    }
    
    /* Animation keyframes */
    @keyframes glowPulse{0%{box-shadow:0 0 10px rgba(138, 132, 78, 0.2)}100%{box-shadow:0 0 30px rgba(138, 132, 78, 0.4)}}
      @keyframes logoShine{0%{transform:translateX(-100%) skewX(-20deg)}100%{transform:translateX(200%) skewX(-20deg)}}
      @keyframes textGlow{0%{text-shadow:0 0 5px var(--accent1-glow),0 0 10px var(--accent1-glow),0 0 20px rgba(0, 255, 157, 0.3)}100%{text-shadow:0 0 10px var(--accent1-glow),0 0 20px var(--accent1-glow),0 0 30px rgba(0, 255, 157, 0.4)}}
      @keyframes glowBorder{0%{box-shadow:0 0 15px rgba(255, 215, 0, 0.15)}100%{box-shadow:0 0 20px rgba(255, 215, 0, 0.25)}}
      .nav{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:20px 30px;border-radius:12px;background:linear-gradient(135deg, rgba(0,0,0,0.7), rgba(0,0,0,0.5));backdrop-filter:blur(10px);border:1px solid var(--border-glass);position:sticky;top:24px;z-index:100}
      .brand{display:flex;align-items:center;gap:16px}
      .logo{width:48px;height:48px;border-radius:12px;background:linear-gradient(135deg, var(--accent1) 90%, var(--accent3) 10%);display:flex;align-items:center;justify-content:center;font-weight:900;color:var(--paper);font-size:24px;transition:all 0.3s ease;position:relative;overflow:hidden}
        .logo::before{content:'';position:absolute;top:0;left:-100%;width:50%;height:100%;background:linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);transform:skewX(-20deg);animation:logoShine 3s ease-in-out infinite}
      .logo:hover{transform:scale(1.05);box-shadow:var(--accent1-glow);}
      .brand-title{font-size:24px;font-weight:700;color:#fff;text-shadow:0 0 10px rgba(0, 245, 255, 0.5);margin:0;padding:0;line-height:1.2;}
      .brand-sub {font-size:12px;color:var(--muted);font-family:'Rajdhani', sans-serif;letter-spacing:0.5px;}
      .cta-row{display:flex;gap:12px;margin-top:8px}
    /* Button styling */
        .btn{padding:12px 24px;border-radius:8px;background:linear-gradient(135deg, var(--accent1) 90%, var(--accent3) 10%);color:var(--paper);font-weight:700;transition:all 0.3s ease;border:1px solid var(--border-glass);box-shadow:0 4px 12px rgba(255, 215, 0, 0.15);display:flex;align-items:center;gap:8px;position:relative;overflow:hidden;animation:glowBorder 3s ease-in-out infinite alternate}
        .btn:hover{transform:translateY(-2px);box-shadow:0 6px 16px rgba(255, 215, 0, 0.3)}
        .btn:hover::before{content:'';position:absolute;top:0;left:-100%;width:50%;height:100%;background:linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);transform:skewX(-20deg);animation:logoShine 1.5s ease-out}
        .btn:active{transform:translateY(0)}
        .btn.ghost{background:transparent;border:1px solid var(--accent1);color:var(--accent1);box-shadow:0 4px 12px rgba(255, 215, 0, 0.1);position:relative;overflow:hidden}
        .btn.ghost:hover{background:var(--accent1);color:var(--paper);box-shadow:0 6px 16px rgba(255, 215, 0, 0.3)}}
        
      /* Grid layout for main content */
        .grid{display:grid;grid-template-columns:1fr 420px;gap:32px;align-items:start;margin-top:24px;position:relative}
      
      /* Scanline effect */
      .scanlines { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 99; pointer-events: none; background: repeating-linear-gradient(0deg, rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 1px, transparent 1px, transparent 2px); }
      
      /* Modern card styling */
      .card{
        background:linear-gradient(135deg, var(--card-glass), rgba(18, 18, 18, 0.6));
        border:1px solid var(--border-glass);
        padding:24px;
        border-radius:16px;
        transition: all 0.6s cubic-bezier(0.19, 1, 0.22, 1);
        position:relative;
        overflow:hidden;
      }
      
      /* Card glow element */
      .card-glow {
        position: absolute;
        width: 150px;
        height: 150px;
        background: radial-gradient(circle, var(--accent1-glow) 0%, transparent 70%);
        opacity: 0;
        border-radius: 50%;
        pointer-events: none;
        transition: all 0.3s cubic-bezier(0.19, 1, 0.22, 1);
        mix-blend-mode: screen;
        filter: blur(25px);
        z-index: 0;
      }
      
      /* Grid pattern on cards */
      .card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: radial-gradient(circle at 20px 20px, rgba(255, 255, 255, 0.03) 1px, transparent 0);
        background-size: 40px 40px;
        opacity: 0.3;
        z-index: 0;
        transition: opacity 0.3s ease;
      }
      

      
      .card:hover::before {
        opacity: 0.5;
      }
      
      .card:hover{
        transform: translateY(-5px);
        box-shadow: 0 15px 30px -10px rgba(0, 0, 0, 0.3);
      }
      
      /* Responsive adjustments */
      @media (max-width: 768px) {
        .grid {
          grid-template-columns: 1fr;
          gap: 24px;
        }
        
        .nav {
          padding: 16px 20px;
          flex-wrap: wrap;
        }
        
        .logo {
          width: 40px;
          height: 40px;
          font-size: 20px;
        }
        
        .brand-title {
          font-size: 24px;
        }
      }
    /* Stats counter */
      .stats{display:flex;justify-content:space-around;padding:24px 16px;border-radius:20px;background:linear-gradient(135deg, var(--card) 0%, rgba(21,21,21,0.8) 100%);margin-top:40px;box-shadow:0 0 30px rgba(138, 132, 78, 0.15);border:1px solid var(--glass);backdrop-filter:blur(10px);position:relative;overflow:hidden}
      .stats::before{
        content:'';
        position:absolute;
        top:0;
        left:0;
        width:100%;
        height:100%;
        background-image:radial-gradient(circle at 30px 30px, rgba(138, 132, 78, 0.05) 1px, transparent 0);
        background-size:30px 30px;
        z-index:0;
      }
      .stat-item{text-align:center;position:relative;z-index:1;flex:1;transition:transform 0.3s ease;padding:0 10px}
      .stat-item:hover{transform:scale(1.05)}
      .stat-number{font-size:40px;font-weight:900;color:var(--accent1);margin:8px 0;position:relative;animation:fadeInUp 0.6s ease-out}
      .stat-number::after{content:attr(data-prefix);font-size:16px;position:absolute;top:0;left:-15px;opacity:0.7}
      .stat-label{color:var(--muted);font-size:14px;transition:color 0.3s ease}
      .stat-item:hover .stat-label{color:var(--paper)}
    /* Features section */
      .features{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;margin-top:40px}
      .feature{background:linear-gradient(135deg, var(--card) 0%, rgba(21,21,21,0.8) 100%);padding:20px;border-radius:16px;position:relative;overflow:hidden;box-shadow:0 0 15px rgba(138, 132, 78, 0.05);border:1px solid rgba(138, 132, 78, 0.1);transition:all 0.3s ease}
      .feature::before{
        content:'';
        position:absolute;
        top:0;
        left:0;
        width:5px;
        height:100%;
        background:linear-gradient(180deg, var(--accent1) 90%, var(--accent3) 10%);
        border-radius:8px 0 0 8px;
        opacity:0;
        transition:opacity 0.3s ease;
      }
      .feature:hover{
        transform:translateY(-5px);
        box-shadow:0 0 25px rgba(138, 132, 78, 0.15);
      }
      .feature:hover::before{opacity:1}
      .feature h3{font-size:18px;font-weight:600;margin-bottom:8px;color:var(--paper)}
      .feature p{color:var(--muted);font-size:14px}
      @keyframes fadeInUp{0%{opacity:0;transform:translateY(20px)}100%{opacity:1;transform:translateY(0)}}
    /* Register card */
      .register{display:flex;flex-direction:column;gap:12px}
      .register h2{font-size:24px;font-weight:800;margin-bottom:16px;color:var(--paper);text-shadow:0 0 20px rgba(138, 132, 78, 0.3)}
      input,select,textarea{padding:12px 16px;border-radius:12px;border:1px solid rgba(138, 132, 78, 0.1);background:linear-gradient(135deg, var(--card) 0%, rgba(21,21,21,0.8) 100%);color:var(--paper);font-size:15px;transition:all 0.3s ease;position:relative;z-index:1}
      input:focus,select:focus,textarea:focus{
        outline:none;
        border-color:var(--accent2);
        box-shadow:0 0 20px rgba(138, 132, 78, 0.2);
        transform:translateY(-1px);
      }
      input::placeholder,textarea::placeholder{color:var(--muted);opacity:0.7}
      .register-btn{margin-top:20px}
    /* Footer */
      footer{margin-top:60px;padding:24px 0 32px 0;color:var(--muted);font-size:14px;text-align:center;position:relative}
      footer::before{
        content:'';
        position:absolute;
        top:0;
        left:50%;
        transform:translateX(-50%);
        width:80%;
        height:1px;
        background:linear-gradient(90deg, transparent, rgba(138, 132, 78, 0.2), transparent);
      }
      .social-links{display:flex;justify-content:center;gap:16px;margin:16px 0}
      /* Brighten mail link for visibility */
      footer a[href^="mailto:"]{color:#ffe64d;font-weight:800;text-shadow:0 0 8px rgba(255,221,0,0.45)}
      .social-link{color:var(--muted);font-size:20px;transition:all 0.3s ease;display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:50%;border:1px solid rgba(138, 132, 78, 0.1);background:linear-gradient(135deg, var(--card) 0%, rgba(21,21,21,0.8) 100%);}
      .social-link:hover{color:var(--accent2);transform:translateY(-3px);box-shadow:0 5px 15px rgba(138, 132, 78, 0.2);border-color:var(--accent2);}
    .hero{height:280px;border-radius:20px;overflow:hidden;display:flex;align-items:center;position:relative}
      .hero img{width:100%;height:100%;object-fit:cover;display:block;filter:brightness(0.6)}
      .hero::after{
        content:'';
        position:absolute;
        top:0;
        left:0;
        width:100%;
        height:100%;
        background:linear-gradient(180deg, transparent 0%, var(--bg) 100%);
        z-index:1;
      }
      .hero-overlay{position:relative;margin-top:-180px;padding:24px;z-index:2}
      .hero-card{background:linear-gradient(135deg, var(--card) 0%, rgba(21,21,21,0.9) 100%);border-radius:24px;padding:40px 48px;position:relative;overflow:hidden;box-shadow:0 0 40px rgba(138, 132, 78, 0.15);border:1px solid var(--glass);backdrop-filter:blur(10px);transition:all 0.3s ease}
      .hero-card:hover{box-shadow:0 0 50px rgba(138, 132, 78, 0.2);transform:translateY(-5px)}
      .hero-card::before{
        content:'';
        position:absolute;
        top:0;
        left:0;
        width:100%;
        height:100%;
        background-image:radial-gradient(circle at 20px 20px, rgba(138, 132, 78, 0.05) 1px, transparent 0);
        background-size:20px 20px;
        z-index:0;
      }
    .ticker{margin-top:12px;padding:10px 16px;border-radius:10px;background:var(--glass);font-size:14px;color:var(--muted);border:1px solid rgba(138, 132, 78, 0.1);backdrop-filter:blur(5px)}
      .logo-square{width:150px;height:150px;border-radius:16px;background:linear-gradient(135deg, var(--accent1) 90%, var(--accent3) 10%);display:flex;align-items:center;justify-content:center;font-weight:900;color:var(--paper);font-size:48px;box-shadow:0 0 40px rgba(138, 132, 78, 0.35);animation:glowPulse 3s ease-in-out infinite alternate;position:relative;overflow:hidden;transition:all 0.3s ease}
      @keyframes glowPulse{0%{box-shadow:0 0 10px rgba(138, 132, 78, 0.2)}100%{box-shadow:0 0 30px rgba(138, 132, 78, 0.4)}}
    /* Sponsor carousel */
      .sponsor-carousel {background:var(--card);border-radius:20px;padding:24px;margin-top:40px;position:relative;overflow:hidden;box-shadow:0 0 30px rgba(138, 132, 78, 0.15);border:1px solid var(--glass);backdrop-filter:blur(10px)}
      .sponsor-row{display:flex;overflow:hidden;border-radius:12px;padding:12px;gap:24px;align-items:center;background:linear-gradient(90deg, var(--glass), transparent, var(--glass));margin-top:16px}
      .sponsor-track{display:flex;gap:32px;animation:scroll 25s linear infinite;align-items:center}
      .sponsor{flex:0 0 auto;display:flex;align-items:center;justify-content:center;padding:10px 20px;border-radius:12px;background:linear-gradient(135deg, var(--card) 0%, rgba(21,21,21,0.8) 100%);width:220px;height:110px;border:1px solid rgba(138, 132, 78, 0.1);transition:all 0.3s ease;box-shadow:0 0 15px rgba(138, 132, 78, 0.05)}
      .sponsor:hover{transform:scale(1.03);box-shadow:0 0 25px rgba(138, 132, 78, 0.2);border-color:rgba(138, 132, 78, 0.3)}
      @keyframes scroll{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}
      

    /* FAQ accordion */
      .faq{margin-top:40px}
      .faq-item{margin-bottom:16px;border-radius:16px;background:linear-gradient(135deg, var(--card) 0%, rgba(21,21,21,0.8) 100%);padding:20px;box-shadow:0 0 15px rgba(138, 132, 78, 0.05);border:1px solid rgba(138, 132, 78, 0.1);transition:all 0.3s ease;position:relative;overflow:hidden}
      .faq-item::before{
        content:'';
        position:absolute;
        top:0;
        left:0;
        width:5px;
        height:100%;
        background:linear-gradient(180deg, var(--accent1) 90%, var(--accent3) 10%);
        border-radius:8px 0 0 8px;
        opacity:0;
        transition:opacity 0.3s ease;
      }
      .faq-item:hover{
        transform:translateX(5px);
        box-shadow:0 0 25px rgba(138, 132, 78, 0.15);
      }
      .faq-item:hover::before{opacity:1}
      .faq-q{font-size:18px;font-weight:600;display:flex;justify-content:space-between;align-items:center;cursor:pointer;transition:all 0.3s ease;position:relative;padding-right:24px}
      .faq-q::after{
        content:'+';
        position:absolute;
        right:0;
        font-size:24px;
        font-weight:300;
        color:var(--accent2);
        transition:all 0.3s ease;
      }
      .faq-q.active::after{
        content:'-';
        transform:rotate(0deg);
      }
      .faq-a{margin-top:16px;color:var(--muted);display:none;transition:all 0.3s ease;opacity:0}
      .faq-a.active{display:block;opacity:1;animation:fadeIn 0.5s ease}
      @keyframes fadeIn{0%{opacity:0;transform:translateY(10px)}100%{opacity:1;transform:translateY(0)}}
    /* Modal system */
    .sticky-register-btn{position:fixed;right:18px;bottom:18px;background:linear-gradient(135deg,var(--accent3),var(--accent1));color:var(--paper);border-radius:999px;padding:14px 18px;font-weight:800;border:0;cursor:pointer;box-shadow:0 10px 30px rgba(0,0,0,0.6);z-index:999;transition:all 0.3s ease}
    .sticky-register-btn:hover{transform:scale(1.05);box-shadow:0 12px 35px rgba(0,0,0,0.7)}
    
    .modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.8);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:1000;opacity:0;pointer-events:none;transition:opacity 0.4s cubic-bezier(0.19, 1, 0.22, 1);}
    .modal-backdrop.active{opacity:1;pointer-events:auto;}
    
    .modal{background:linear-gradient(135deg, var(--bg-900), var(--bg-800));padding:32px;border-radius:16px;width:min(600px,95%);max-height:90vh;overflow-y:auto;box-shadow:0 20px 60px rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.08);transform:scale(0.95) translateY(-20px);transition:transform 0.4s cubic-bezier(0.19, 1, 0.22, 1);position:relative;}
    .modal::before{content:'';position:absolute;top:-1px;left:-1px;right:-1px;height:1px;background:linear-gradient(90deg, transparent, var(--accent3), transparent);opacity:0;transition:opacity 0.4s ease;}
    .modal-backdrop.active .modal{transform:scale(1) translateY(0);}
    .modal-backdrop.active .modal::before{opacity:1;}
    
    /* Input styling for modal */
    .modal input{background-color:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:8px;padding:12px 16px;color:var(--paper);font-size:16px;transition:all 0.3s ease;}
    .modal input:focus{outline:none;border-color:var(--accent3);background-color:rgba(255,255,255,0.08);box-shadow:0 0 0 2px rgba(120,119,198,0.1);}
    .modal input::placeholder{color:var(--muted);}
    
    .modal h3{margin-top:0;}
    .discord-cta{display:flex;gap:10px;align-items:center;margin-top:12px}
    /* Proof of payout template */
      .proof-payout-template{margin-top:32px;padding:24px;border-radius:20px;background:linear-gradient(135deg, var(--card) 0%, rgba(21,21,21,0.8) 100%);position:relative;overflow:hidden;box-shadow:0 0 30px rgba(138, 132, 78, 0.15);border:1px solid var(--glass);backdrop-filter:blur(10px);transition:all 0.3s ease}
      .proof-payout-template:hover{box-shadow:0 0 40px rgba(138, 132, 78, 0.25);transform:translateY(-2px)}
      .proof-payout-template::before{
        content:'';
        position:absolute;
        top:0;
        left:0;
        width:100%;
        height:100%;
        background-image:radial-gradient(circle at 30px 30px, rgba(138, 132, 78, 0.05) 1px, transparent 0);
        background-size:30px 30px;
        z-index:0;
      }
    @media(max-width:880px){.grid{grid-template-columns:1fr}.logo{width:44px;height:44px}.hero{height:140px}.hero-overlay{margin-top:-64px}.brand-title{font-size:22px}}
    
    /* Responsive modal adjustments */
    @media(max-width:768px){
      .modal{
        padding:24px;
        margin:16px;
        border-radius:12px;
      }
      
      .modal-backdrop{
        padding:16px;
        align-items:flex-start;
        justify-content:center;
        padding-top:100px;
      }
      
      .sticky-register-btn{
        padding:12px 16px;
        font-size:14px;
      }
    }
  </style>
  <script src="assets/config.js"></script>
  <script>
    (function(){
      var CFG = window.__GRID_CONFIG__ || {};
      var isLovable = String(CFG.BACKEND_PROVIDER || 'flask').toLowerCase() === 'lovable';
      if (!isLovable) return; // Only load Supabase client when using Lovable Cloud
      function load(src){ var s=document.createElement('script'); s.src=src; s.crossOrigin='anonymous'; document.head.appendChild(s); }
      // Try jsDelivr first
      load('https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.45.4/dist/supabase.min.js');
      // Fallback to unpkg, then local asset if available
      setTimeout(function(){
        if (!window.supabase || !window.supabase.createClient) {
          load('https://unpkg.com/@supabase/supabase-js@2.45.4/dist/supabase.min.js');
          setTimeout(function(){
            if (!window.supabase || !window.supabase.createClient) {
              load('assets/supabase.min.js'); // optional local copy for locked-down networks
            }
          }, 1200);
        }
      }, 1200);
    })();
  </script>
  <script src="assets/admin_sync.js"></script>
</head>
<body>
  <!-- Animated background particles -->
  <div class="particles-bg" id="particlesContainer"></div>
  <!-- Modern dynamic background from spectacular shared styles -->
  <div class="animated-bg"></div>
  <div class="grid-pattern">
    <div class="grid-layer grid-layer-1"></div>
    <div class="grid-layer grid-layer-2"></div>
    <div class="grid-layer grid-layer-3"></div>
  </div>
  
  <!-- Scanlines effect -->
  <div class="scanlines"></div>
  
  <script>
    // Create animated particles
    const particlesContainer = document.getElementById('particlesContainer');
    const particleCount = 20;
    
    for (let i = 0; i < particleCount; i++) {
      const particle = document.createElement('div');
      particle.classList.add('particle');
      
      // Random particle properties
      const size = Math.random() * 100 + 50;
      const posX = Math.random() * 100;
      const posY = Math.random() * 100;
      const durationFactor = Math.random() * 2 + 1;
      const delay = Math.random() * 5;
      const opacity = Math.random() * 0.5 + 0.05;
      
      // Apply styles
      particle.style.width = `${size}px`;
      particle.style.height = `${size}px`;
      particle.style.left = `${posX}%`;
      particle.style.top = `${posY}%`;
      particle.style.setProperty('--duration-factor', durationFactor);
      particle.style.animationDelay = `${delay}s`;
      particle.style.opacity = opacity;
      
      particlesContainer.appendChild(particle);
    }
  </script>
  <div class="wrap">
    <div class="nav sticky">
      <div class="brand">
        <div class="logo"><img src="assets/logo.png" alt="The Grid logo" style="width:100%;height:100%;object-fit:cover;border-radius:6px"></div>
        <div>
          <div class="brand-title">THE GRID</div>
          <div class="brand-sub">Teams Event</div>
        </div>
      </div>
      <div style="display:flex;gap:12px;align-items:center">
        <a class="btn" href="index.html">Home</a>
        <a class="btn" href="multiplier.html">Multiplier</a>
        <a class="btn" href="timebound.html">Time Bound</a>
        <a class="btn ghost" href="teams_rules.html">Rules</a>
        <a class="btn" href="#register" onclick="document.getElementById('register').scrollIntoView({behavior:'smooth'})">Register</a>
      </div>
    </div>

    <div class="hero" aria-hidden="true">
      <img src="assets/banner.png" alt="The Grid banner" style="width:100%;height:100%;object-fit:cover;display:block;filter:brightness(0.7);">
    </div>

    <div class="hero-overlay">
      <div class="hero-card fade-in delay-100">
          <div style="display:flex;align-items:center;gap:20px;position:relative;z-index:1;">
            <div class="logo-square" style="background:linear-gradient(135deg, var(--accent1) 90%, var(--accent3) 10%);animation:glowPulse 2s ease-in-out infinite alternate;"><img src="assets/logo.png" alt="The Grid" style="width:86%;height:86%;object-fit:contain;filter:brightness(1.2)"></div>
            <div style="flex:1">
              <div style="background:linear-gradient(135deg, var(--accent1) 90%, var(--accent3) 10%); display:inline-block; padding:6px 12px; border-radius:6px; font-size:14px; font-weight:700; margin-bottom:8px;">THE GRID</div>
              <h1 style="margin:0 0 8px 0;font-size:26px;background:linear-gradient(90deg, var(--accent3), var(--accent1));-webkit-background-clip:text;background-clip:text;color:transparent;">THE GRID Teams Event ‚Äî Collaborative Challenge</h1>
              <div style="color:var(--muted);font-size:16px;line-height:1.5;">Join forces with friends for a 1-week development marathon. ‚Çπ300 per team entry, 5 limited slots, with a ‚Çπ750 cash prize for the best collaborative project.</div>
              <div class="cta-row" style="margin-top:24px">
                <a class="btn" href="https://docs.google.com/forms/d/e/1FAIpQLSdBH8VZp9Y78BnVrG6fLc3eV8J9N-VkX0u5dZ1hQH7Y6VJQPQ/viewform?usp=sf_link" target="_blank">Register Now</a>
                <a class="btn ghost" href="teams_rules.html">Team Guidelines</a>
              </div>
            </div>
          </div>
          
          <!-- Event Timer -->
          <div class="timer-container" style="margin-top: 24px;">
            <div class="timer-label" style="color: var(--accent3); font-weight: 700; margin-bottom: 8px; text-transform: uppercase; letter-spacing: 1px; font-size: 12px; text-align: center;">NEXT THE GRID TEAMS EVENT STARTS IN</div>
            <div class="timer" style="display: flex; gap: 6px; justify-content: center;">
              <div class="timer-item" style="background: linear-gradient(135deg, rgba(138, 132, 78, 0.15), rgba(138, 132, 78, 0.05)); border: 1px solid rgba(138, 132, 78, 0.2); border-radius: 6px; padding: 8px 12px; text-align: center;">
                <div id="days" style="color: var(--accent3); font-size: 24px; font-weight: 800; line-height: 1;">00</div>
                <div style="color: var(--muted); font-size: 11px; margin-top: 2px;">Days</div>
              </div>
              <div class="timer-item" style="background: linear-gradient(135deg, rgba(138, 132, 78, 0.15), rgba(138, 132, 78, 0.05)); border: 1px solid rgba(138, 132, 78, 0.2); border-radius: 6px; padding: 8px 12px; text-align: center;">
                <div id="hours" style="color: var(--accent3); font-size: 24px; font-weight: 800; line-height: 1;">00</div>
                <div style="color: var(--muted); font-size: 11px; margin-top: 2px;">Hours</div>
              </div>
              <div class="timer-item" style="background: linear-gradient(135deg, rgba(138, 132, 78, 0.15), rgba(138, 132, 78, 0.05)); border: 1px solid rgba(138, 132, 78, 0.2); border-radius: 6px; padding: 8px 12px; text-align: center;">
                <div id="minutes" style="color: var(--accent3); font-size: 24px; font-weight: 800; line-height: 1;">00</div>
                <div style="color: var(--muted); font-size: 11px; margin-top: 2px;">Mins</div>
              </div>
              <div class="timer-item" style="background: linear-gradient(135deg, rgba(138, 132, 78, 0.15), rgba(138, 132, 78, 0.05)); border: 1px solid rgba(138, 132, 78, 0.2); border-radius: 6px; padding: 8px 12px; text-align: center;">
                <div id="seconds" style="color: var(--accent3); font-size: 24px; font-weight: 800; line-height: 1;">00</div>
                <div style="color: var(--muted); font-size: 11px; margin-top: 2px;">Secs</div>
              </div>
            </div>
        <style>
          /* Animation for timer pulse */
          @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.9; }
          }
          
          .timer-item {
            animation: pulse 3s infinite;
          }
        </style>
      </div>
      <!-- Team composition visualization -->
          <div style="margin-top:24px;position:relative;z-index:1;">
            <div style="font-size:14px;font-weight:700;margin-bottom:8px;color:var(--accent3)">THE GRID Teams Event ‚Äî Team Composition</div>
            <div style="display:flex;gap:8px;flex-wrap:wrap">
              <div style="background:rgba(255,255,255,0.05);padding:8px 12px;border-radius:8px;border:1px solid rgba(138,132,78,0.1);transition:all 0.3s ease;cursor:default;">2-4 Members</div>
              <div style="background:rgba(255,255,255,0.05);padding:8px 12px;border-radius:8px;border:1px solid rgba(138,132,78,0.1);transition:all 0.3s ease;cursor:default;">All Skills Welcome</div>
              <div style="background:rgba(255,255,255,0.05);padding:8px 12px;border-radius:8px;border:1px solid rgba(138,132,78,0.1);transition:all 0.3s ease;cursor:default;">1 Captain</div>
              <div style="background:rgba(255,255,255,0.05);padding:8px 12px;border-radius:8px;border:1px solid rgba(138,132,78,0.1);transition:all 0.3s ease;cursor:default;">Dedicated Channel</div>
            </div>
          </div>
          
          <!-- Current registered teams -->
          <div style="margin-top:16px;position:relative;z-index:1;">
            <div style="font-size:14px;font-weight:700;margin-bottom:6px;color:var(--accent3)">THE GRID Teams Event ‚Äî Registered Teams (2/5 slots filled)</div>
            <div style="background:rgba(255,255,255,0.03);padding:8px 12px;border-radius:8px;border:1px solid rgba(138,132,78,0.1);">
              <div style="display:flex;gap:12px;">
                <span>‚Ä¢ Alpha Squad</span>
                <span>‚Ä¢ Code Collective</span>
              </div>
            </div>
          </div>
        </div>

      <!-- Sponsor carousel -->
      <div class="sponsor-carousel">
        <h3 style="margin-top:0; margin-bottom:16px; font-size:22px; font-weight:800; color:var(--paper)">Our Sponsors</h3>
        <div class="sponsor-row" aria-hidden="true">
          <div class="sponsor-track" id="sponsorTrack">
            <div class="sponsor"><img src="assets/banner.png" alt="sponsor" style="width:200px;height:100px;object-fit:cover"></div>
            <div class="sponsor"><img src="assets/banner.png" alt="sponsor" style="width:200px;height:100px;object-fit:cover"></div>
            <div class="sponsor"><img src="assets/banner.png" alt="sponsor" style="width:200px;height:100px;object-fit:cover"></div>
            <div class="sponsor"><img src="assets/banner.png" alt="sponsor" style="width:200px;height:100px;object-fit:cover"></div>
            <div class="sponsor"><img src="assets/banner.png" alt="sponsor" style="width:200px;height:100px;object-fit:cover"></div>
            <div class="sponsor"><img src="assets/banner.png" alt="sponsor" style="width:200px;height:100px;object-fit:cover"></div>
          </div>
        </div>
      </div>

    <div class="grid fade-in delay-300">
      <div>
        <div class="card">
          <!-- Refreshed stats using spectacular shared grid styles -->
          <div class="stats">
            <div class="stat">
              <div style="font-size:28px;font-weight:800;color:var(--accent1)">5</div>
              <div style="color:var(--muted)">Available slots</div>
            </div>
            <div class="stat">
              <div style="font-size:28px;font-weight:800;color:var(--accent1)">‚Çπ300</div>
              <div style="color:var(--muted)">Team fee</div>
            </div>
            <div class="stat">
              <div style="font-size:28px;font-weight:800;color:var(--accent1)">‚Çπ750</div>
              <div style="color:var(--muted)">Cash prize</div>
            </div>
            <div class="stat">
              <div style="font-size:28px;font-weight:800;color:var(--accent1)">1</div>
              <div style="color:var(--muted)">Development week</div>
            </div>
          </div>

          <div class="features">
            <div class="feature">
              <h3>Team Collaboration</h3>
              <p>Work together with 2-4 teammates to build a project from concept to completion.</p>
            </div>
            <div class="feature">
              <h3>Development Timeline</h3>
              <p>7-day development sprint with structured milestones and regular check-ins.</p>
            </div>
            <div class="feature">
              <h3>Project Planning</h3>
              <p>Detailed planning phase with guidance on architecture and feature prioritization.</p>
            </div>
            <div class="feature">
              <h3>Judging Criteria</h3>
              <p>Comprehensive evaluation based on functionality, innovation, code quality, and presentation.</p>
            </div>
          </div>

          <div class="ticker">Current: Round 1 ‚Äî 3 slots left ‚Ä¢ Submit your team for approval</div>
        </div>

        <!-- FAQ accordion -->
        <div id="faq" class="card faq fade-in delay-500">
          <div class="card-glow"></div>
          <h3>THE GRID Teams Event FAQ</h3>
          <div class="faq-item"><div class="faq-q"><span style="margin-right:8px">üë•</span> Who can participate?</div><div class="faq-a">Teams of 2-4 developers. All members must have Discord accounts and be added to your team submission.</div></div>
          <div class="faq-item"><div class="faq-q"><span style="margin-right:8px">üìÖ</span> What is the timeline?</div><div class="faq-a">Once registration closes, teams will have exactly 7 days to develop their project before the submission deadline. Judging will take place over the following 3 days.</div></div>
          <div class="faq-item"><div class="faq-q"><span style="margin-right:8px">üí∞</span> How is the prize calculated?</div><div class="faq-a">The cash prize is half of 5 x 300 (the total entry fees from all slots), which equals ‚Çπ750 for the winning team.</div></div>
          <div class="faq-item"><div class="faq-q"><span style="margin-right:8px">üìä</span> What are the judging criteria?</div><div class="faq-a">Functionality 40% ‚Ä¢ Innovation 25% ‚Ä¢ Code quality 20% ‚Ä¢ Presentation 15% ‚Äî detailed feedback will be provided for all teams.</div></div>
          <div class="faq-item"><div class="faq-q"><span style="margin-right:8px">üèÜ</span> When will winners be announced?</div><div class="faq-a">Winners will be announced within 3 days after the submission deadline, with payments processed to the team captain within 48 hours.</div></div>
        </div>

        <!-- Proof of payout template -->
        <div class="card fade-in delay-700" style="margin-top:12px">
          <div class="card-glow"></div>
          <h3 style="background:linear-gradient(90deg, var(--accent3), var(--accent1));-webkit-background-clip:text;background-clip:text;color:transparent;">THE GRID Teams Event ‚Äî Proof of Payout (Template)</h3>
          <div class="proof-payout-template">
            <strong>Winner:</strong> Team Name<br>
            <strong>Captain:</strong> Member Name<br>
            <strong>Prize:</strong> ‚Çπ750<br>
            <strong>Date:</strong> 2025-10-19<br>
            <strong>Txn (masked):</strong> UPI ****5678<br>
            <div style="margin-top:8px;color:var(--muted)">We will upload a screenshot of the transaction (sensitive details redacted) to #winners and in the site admin panel.</div>
          </div>
        </div>

      </div>

      <aside class="fade-in delay-900">
        <div id="register" class="card register">
          <div class="card-glow"></div>
          <div style="background:linear-gradient(135deg, var(--accent1) 90%, var(--accent3) 10%); display:inline-block; padding:6px 12px; border-radius:6px; font-size:14px; font-weight:700; margin-bottom:8px;">THE GRID</div>
          <h3 style="background:linear-gradient(90deg, var(--accent3), var(--accent1));-webkit-background-clip:text;background-clip:text;color:transparent;">Register ‚Äî THE GRID Teams Event</h3>
          <a class="btn" href="https://docs.google.com/forms/d/e/1FAIpQLSdBH8VZp9Y78BnVrG6fLc3eV8J9N-VkX0u5dZ1hQH7Y6VJQPQ/viewform?usp=sf_link" target="_blank" style="width: 100%; text-align: center; margin-bottom: 16px;">Register Team</a>
          <div style="color:var(--muted);font-size:13px">Fill out the Google Form to register your team. Payments will be verified by moderators.</div>

          <div style="margin-top:12px">
            <div style="font-weight:700">Join our Discord</div>
            <div class="discord-cta">
              <a class="btn" href="https://discord.gg/XfbahWtPMg" target="_blank">Join Discord</a>
              <div style="color:var(--muted);font-size:13px">Or search: THE GRID on Discord</div>
            </div>
          </div>
        </div>

        <div class="card" style="margin-top:12px">
          <div class="card-glow"></div>
          <h4>Quick FAQ</h4>
          <div style="color:var(--muted);font-size:13px">How to pay: UPI to <strong>UPI_ID_PLACEHOLDER</strong>. Save txn screenshot. Post txn in #register on Discord with team info.</div>
          <div style="color:var(--muted);font-size:13px;margin-top:8px;">Stay active in Discord: All important announcements will be shared there.</div>
        </div>

        <div class="card" style="margin-top:12px">
          <div class="card-glow"></div>
          <h4>Event Details</h4>
          <div style="color:var(--muted);font-size:13px">Registration closes when all slots are filled. Development period begins immediately after registration closes. Detailed timeline will be shared with registered teams.</div>
        </div>
      </aside>
    </div>

    <footer>
      <div class="social-links">
        <a href="#" class="social-link" aria-label="Twitter"><i>üê¶</i></a>
        <a href="#" class="social-link" aria-label="Discord"><i>üí¨</i></a>
        <a href="#" class="social-link" aria-label="Instagram"><i>üì∏</i></a>
        <a href="#" class="social-link" aria-label="GitHub"><i>üíª</i></a>
      </div>
      ¬© The Grid ‚Ä¢ Teams Event ‚Ä¢ Contact: <a href="mailto:heinrich.oswald24@gmail.com">heinrich.oswald24@gmail.com</a> ‚Ä¢ <a href="code_of_conduct.html" style="color: var(--accent3); text-decoration: none; padding: 4px 8px; border-radius: 4px; background-color: rgba(75, 118, 180, 0.1); transition: all 0.3s ease;">Code of Conduct</a>
    </footer>
  </div>





  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // FAQ accordion behavior
      document.querySelectorAll('.faq-q').forEach(function(q) {
        q.addEventListener('click', function() {
          q.classList.toggle('active');
          var a = q.nextElementSibling;
          if (a.classList.contains('active')) {
            a.classList.remove('active');
            setTimeout(function() {
              a.style.display = 'none';
            }, 300);
          } else {
            a.style.display = 'block';
            setTimeout(function() {
              a.classList.add('active');
            }, 10);
          }
        });
      });

      // Sponsor track speed control on hover
      var sponsorTrack = document.getElementById('sponsorTrack');
      if (sponsorTrack) {
        sponsorTrack.addEventListener('mouseenter', function() {
          sponsorTrack.style.animationPlayState = 'paused';
        });
        sponsorTrack.addEventListener('mouseleave', function() {
          sponsorTrack.style.animationPlayState = 'running';
        });
      }



      // Smooth scroll for anchor links
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          const targetId = this.getAttribute('href');
          const targetElement = document.querySelector(targetId);
          if (targetElement) {
            window.scrollTo({
              top: targetElement.offsetTop - 80,
              behavior: 'smooth'
            });
          }
        });
      });



      // Scroll animations
      function checkScroll() {
        const elements = document.querySelectorAll('.card, .feature, .stat-item, .stat, .hero-card');
        elements.forEach(element => {
          const elementTop = element.getBoundingClientRect().top;
          const windowHeight = window.innerHeight;
          if (elementTop < windowHeight * 0.85 && !element.classList.contains('animate-in')) {
            element.classList.add('animate-in');
            setTimeout(() => {
              element.style.opacity = '1';
              element.style.transform = 'translateY(0)';
            }, 10);
          }
        });
      }

      // Initialize scroll animation styles
      const elements = document.querySelectorAll('.card, .feature, .stat-item, .stat, .hero-card');
      elements.forEach(element => {
        element.style.opacity = '0';
        element.style.transform = 'translateY(30px)';
        element.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
      });
      
      // Countdown timer function
      function initializeCountdown() {
        // State variables
        let isSubmissionPeriod = false;
        let countDownDate;
        let submissionEndDate;
        let isTimerFrozen = false;
        let unfreezeAt = null;
        
        // DOM elements - retrieve once for better performance
        const timerLabel = document.querySelector('.timer-label');
        const timerContainer = document.querySelector('.timer-container');
        const daysEl = document.getElementById('days');
        const hoursEl = document.getElementById('hours');
        const minutesEl = document.getElementById('minutes');
        const secondsEl = document.getElementById('seconds');

        // Under-Construction banner helpers (caution tape style)
        const ensureBannerEl = () => {
          if (!timerContainer) return null;
          const timerEl = timerContainer.querySelector('.timer');
          if (!timerEl) return null;
          timerEl.style.position = 'relative';
          let banner = timerEl.querySelector('.under-construction-banner');
          if (!banner) {
            banner = document.createElement('div');
            banner.className = 'under-construction-banner';
            banner.style.position = 'absolute';
            banner.style.top = '50%';
            banner.style.left = '50%';
            banner.style.transform = 'translate(-50%, -50%)';
            banner.style.zIndex = '6';
            banner.style.pointerEvents = 'none';
            banner.style.padding = '8px 12px';
            banner.style.borderRadius = '6px';
            banner.style.color = '#fff';
            banner.style.fontWeight = '800';
            banner.style.fontSize = '12px';
            banner.style.textAlign = 'center';
            banner.style.textTransform = 'uppercase';
            banner.style.letterSpacing = '1px';
            banner.style.boxShadow = '0 4px 12px rgba(0,0,0,0.15)';
            banner.style.border = '1px solid rgba(0,0,0,0.25)';
            banner.style.backgroundImage = 'repeating-linear-gradient(45deg, #ffd54f 0 12px, #111 12px 24px)';
            banner.style.display = 'none';
            banner.style.textShadow = '0 1px 2px rgba(0,0,0,0.9), 0 0 6px rgba(0,0,0,0.6)';
            banner.innerHTML = 'üöß UNDER CONSTRUCTION ‚Äî EVENT OVER, SEE YOU NEXT WEEK';
            timerEl.appendChild(banner);
          }
          return banner;
        };
        // Tape X overlay helpers (fits directly over the timer)
        const ensureTapeOverlayEl = () => {
          if (!timerContainer) return null;
          const timerEl = timerContainer.querySelector('.timer');
          if (!timerEl) return null;
          timerEl.style.position = 'relative';
          let overlay = timerEl.querySelector('.tape-x-overlay');
          if (!overlay) {
            overlay = document.createElement('div');
            overlay.className = 'tape-x-overlay';
            overlay.style.position = 'absolute';
            overlay.style.top = '0';
            overlay.style.left = '0';
            overlay.style.right = '0';
            overlay.style.bottom = '0';
          overlay.style.pointerEvents = 'none';
          overlay.style.display = 'none';
          overlay.style.zIndex = '5';
          overlay.style.overflow = 'hidden';
          const makeStrip = (rotation) => {
            const strip = document.createElement('div');
            strip.style.position = 'absolute';
            strip.style.left = '50%';
            strip.style.width = '120%';
            strip.style.top = '50%';
            strip.style.height = '12px';
            strip.style.transform = `translate(-50%, -50%) rotate(${rotation}deg)`;
            strip.style.backgroundImage = 'repeating-linear-gradient(45deg, #ffd54f 0 12px, #111 12px 24px)';
            strip.style.border = '1px solid rgba(0,0,0,0.25)';
            strip.style.boxShadow = '0 4px 12px rgba(0,0,0,0.25)';
            strip.style.opacity = '0.95';
            return strip;
          };
            overlay.appendChild(makeStrip(28));
            overlay.appendChild(makeStrip(-28));
            const makeLabel = (rotation) => {
              const lbl = document.createElement('div');
              lbl.className = 'tape-x-text';
              lbl.style.position = 'absolute';
              lbl.style.top = '50%';
              lbl.style.left = '50%';
              lbl.style.transform = `translate(-50%, -50%) rotate(${rotation}deg)`;
              lbl.style.transformOrigin = 'center';
              lbl.style.zIndex = '6';
              lbl.style.pointerEvents = 'none';
              lbl.style.color = '#fff';
              lbl.style.fontWeight = '800';
              lbl.style.fontSize = '12px';
              lbl.style.textTransform = 'uppercase';
              lbl.style.letterSpacing = '1px';
              lbl.style.whiteSpace = 'nowrap';
              lbl.style.textShadow = '0 1px 2px rgba(0,0,0,0.9), 0 0 6px rgba(0,0,0,0.6)';
              lbl.innerHTML = 'üöß UNDER CONSTRUCTION ‚Äî EVENT OVER, SEE YOU NEXT WEEK';
              return lbl;
            };
            overlay.appendChild(makeLabel(28));
            overlay.appendChild(makeLabel(-28));
            timerEl.appendChild(overlay);
          }
          return overlay;
        };
        const showEventOverBanner = () => {
          const overlay = ensureTapeOverlayEl();
          if (overlay) overlay.style.display = 'block';
        };
        const hideEventOverBanner = () => {
          const overlay = ensureTapeOverlayEl();
          if (overlay) overlay.style.display = 'none';
        };
        
        // Validate that critical DOM elements exist
        if (!daysEl || !hoursEl || !minutesEl || !secondsEl) {
          console.error('Timer DOM elements not found. Check HTML structure.');
          return; // Exit if essential elements are missing
        }
        
        // Function to get next Saturday at 3pm IST (timezone-anchored to IST)
        function getNextSaturday3pmIST(forceNextWeek = false) {
          const IST_OFFSET_MINUTES = 330; // UTC+5:30
          const nowLocal = new Date();
          // Convert local time to UTC milliseconds
          const nowUTCms = nowLocal.getTime() + nowLocal.getTimezoneOffset() * 60000;
          // Convert UTC to IST timeline for calculating day/hour
          const nowISTms = nowUTCms + IST_OFFSET_MINUTES * 60000;
          const nowIST = new Date(nowISTms);
          const targetDay = 6; // Saturday
          const targetHour = 15; // 3 PM IST
          
          // Build target event time on the IST timeline
          const eventIST = new Date(nowIST);
          eventIST.setHours(targetHour, 0, 0, 0);
          
          let dayDiff = targetDay - nowIST.getDay();
          if ((dayDiff === 0 && nowIST.getHours() >= targetHour) || dayDiff < 0 || forceNextWeek) {
            dayDiff += 7;
          }
          eventIST.setDate(nowIST.getDate() + dayDiff);
          
          // Convert IST timeline back to a real-world timestamp (UTC-based Date)
          const eventUTCms = eventIST.getTime() - IST_OFFSET_MINUTES * 60000;
          return new Date(eventUTCms);
        }
        
        // Function to calculate submission end date (2 hours after start)
        function getSubmissionEndDate(challengeStartDate) {
          const endDate = new Date(challengeStartDate);
          endDate.setHours(endDate.getHours() + 2);
          return endDate;
        }
        
        // Initialize dates
        countDownDate = getNextSaturday3pmIST();

        // Admin persistent settings helpers
        function getAdminSettings() {
          try { const raw = localStorage.getItem('admin_settings'); return raw ? JSON.parse(raw) : null; } catch(e){ return null; }
        }
        function isAdminTimerDisabled() {
          const s = getAdminSettings();
          const now = Date.now();
          if (s && typeof s.persist_until === 'number') {
            if (now > s.persist_until) {
              localStorage.removeItem('admin_settings');
              localStorage.removeItem('admin_timer_disabled');
              return false;
            }
            return s.timer_disabled === true;
          }
          return localStorage.getItem('admin_timer_disabled') === 'true';
        }
        function getAdminEventConfig(eventType) {
          const s = getAdminSettings();
          const now = Date.now();
          if (!s) return null;
          if (typeof s.persist_until === 'number' && now > s.persist_until) {
            localStorage.removeItem('admin_settings');
            localStorage.removeItem('admin_timer_disabled');
            return null;
          }
          const ev = s.events || {};
          return ev[eventType] || null;
        }
        function isEventTimerDisabled(eventType) {
          if (isAdminTimerDisabled()) return true;
          const cfg = getAdminEventConfig(eventType);
          return !!(cfg && cfg.disabled);
        }
        
        // Function to update the countdown
        function updateCountdown() {
          // Admin override: disable timer (global or per-event)
          if (isEventTimerDisabled('teams')) {
            const timerEl = timerContainer.querySelector('.timer');
            if (timerEl) timerEl.style.display = 'none';
            if (timerLabel) timerLabel.textContent = 'TIMER DISABLED BY ADMIN';
            return;
          }
          // Get today's date and time
          const now = new Date();
          const nowTime = now.getTime();
          let distance = 0;
          
          // Read admin config and apply overrides
          const adminCfg = getAdminEventConfig('teams');
          // Admin: force event-over overlay/freeze
          if (adminCfg && adminCfg.event_over === true) {
            showEventOverBanner();
            const overlay = ensureTapeOverlayEl();
            if (overlay) overlay.style.display = 'block';
            const timerEl = timerContainer.querySelector('.timer');
            if (timerEl) { timerEl.style.filter = 'blur(1.5px)'; timerEl.style.opacity = '0.85'; }
            return;
          } else {
            // Ensure overlay and blur are removed when not forced event-over
            const overlay = ensureTapeOverlayEl();
            if (overlay) overlay.style.display = 'none';
            const timerEl = timerContainer.querySelector('.timer');
            if (timerEl) { timerEl.style.filter = ''; timerEl.style.opacity = ''; }
          }
          // Apply admin override for start time
          if (adminCfg && typeof adminCfg.override_start_ms === 'number') {
            countDownDate = new Date(adminCfg.override_start_ms);
          }
          
          // If timer is frozen, show banner and resume next day
          if (isTimerFrozen) {
            showEventOverBanner();
            const overlay = ensureTapeOverlayEl();
            if (overlay) overlay.style.display = 'block';
            // Remove blur during natural freeze; only blur when admin forces event_over
            const timerEl = timerContainer.querySelector('.timer');
            if (timerEl) { timerEl.style.filter = ''; timerEl.style.opacity = ''; }
            
            if (unfreezeAt && now >= unfreezeAt) {
              // Unfreeze and resume countdown to next event
              isTimerFrozen = false;
              unfreezeAt = null;
              hideEventOverBanner();
              if (overlay) overlay.style.display = 'none';
              if (timerEl) { timerEl.style.filter = ''; timerEl.style.opacity = ''; }
              countDownDate = getNextSaturday3pmIST();
            } else {
              return; // Keep timer off until next day
            }
          }
          
          // Determine current timer state and calculate distance
          if (isSubmissionPeriod && submissionEndDate) {
            // Submission period active
            if (timerLabel) {
              timerLabel.textContent = 'TEAMS SUBMISSION ENDS IN';
            }
            distance = submissionEndDate - nowTime;
          } else {
            // Challenge countdown active
            if (timerLabel) {
        timerLabel.textContent = 'NEXT THE GRID TEAMS EVENT STARTS IN';
      }
            distance = countDownDate - nowTime;
          }
          
          // Handle timer state transitions when time runs out
          if (distance < 0) {
            if (isSubmissionPeriod) {
              // Submission ended ‚Üí freeze timer until next day
              isSubmissionPeriod = false;
              isTimerFrozen = true;
              unfreezeAt = new Date(now);
              unfreezeAt.setDate(unfreezeAt.getDate() + 1);
              unfreezeAt.setHours(0, 0, 0, 0);
              showEventOverBanner();
              const overlay2 = ensureTapeOverlayEl();
              if (overlay2) overlay2.style.display = 'block';
              const timerEl2 = timerContainer.querySelector('.timer');
              if (timerEl2) { timerEl2.style.filter = 'blur(1.5px)'; timerEl2.style.opacity = '0.85'; }
              return;
            } else {
              // Challenge started ‚Üí begin submission period (2 hours)
              isSubmissionPeriod = true;
              submissionEndDate = getSubmissionEndDate(countDownDate);
              distance = submissionEndDate - nowTime;
              if (timerLabel) {
                timerLabel.textContent = 'TEAMS SUBMISSION ENDS IN';
              }
            }
          }

          // Time calculations for days, hours, minutes and seconds
          const days = Math.floor(distance / (1000 * 60 * 60 * 24));
          const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
          const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
          const seconds = Math.floor((distance % (1000 * 60)) / 1000);

          // Admin display mode overrides
          if (adminCfg && adminCfg.display_mode) {
            if (adminCfg.display_mode === 'start') {
              isSubmissionPeriod = false;
              if (timerLabel) timerLabel.textContent = 'NEXT THE GRID TEAMS EVENT STARTS IN';
              distance = countDownDate - nowTime;
            } else if (adminCfg.display_mode === 'submission') {
              isSubmissionPeriod = true;
              if (!submissionEndDate) {
                submissionEndDate = getSubmissionEndDate(countDownDate);
              }
              if (timerLabel) timerLabel.textContent = 'TEAMS SUBMISSION ENDS IN';
              distance = submissionEndDate - nowTime;
            }
            if (adminCfg.custom_label && timerLabel) {
              timerLabel.textContent = adminCfg.custom_label;
            }
          }
          
          // Pad with leading zero if less than 10
          const pad = (num) => num < 10 ? '0' + num : num;
          
          // Log countdown state for debugging
          console.log(`State: ${isSubmissionPeriod ? 'Submission' : 'Challenge'} | ${days}d ${hours}h ${minutes}m ${seconds}s`);
          
          // Update DOM elements with calculated values
          daysEl.textContent = pad(days);
          hoursEl.textContent = pad(hours);
          minutesEl.textContent = pad(minutes);
          secondsEl.textContent = pad(seconds);
        }
        
        // Log initial state for debugging
        console.log('Initialized - Next challenge:', countDownDate.toLocaleString());
        
        // Update the countdown immediately and then every 1 second
        updateCountdown();
        setInterval(updateCountdown, 1000);
      }
      
      // Initialize the countdown timer
      initializeCountdown();

      // Add event listeners
      window.addEventListener('scroll', checkScroll);
      
      // Initial check
      checkScroll();

      // Inject tiny Admin button
      (function(){
        const existing = document.getElementById('adminBtn');
        if (!existing) {
          const btn = document.createElement('a');
          btn.id = 'adminBtn';
          btn.href = (localStorage.getItem('admin_auth') === 'true') ? 'admin.html' : 'admin_login.html';
          btn.title = 'Admin';
          btn.textContent = 'A';
          btn.style.position = 'fixed';
          btn.style.right = '8px';
          btn.style.bottom = '8px';
          btn.style.width = '26px';
          btn.style.height = '26px';
          btn.style.borderRadius = '50%';
          btn.style.background = '#111';
          btn.style.color = '#fff';
          btn.style.display = 'flex';
          btn.style.alignItems = 'center';
          btn.style.justifyContent = 'center';
          btn.style.fontWeight = '800';
          btn.style.fontSize = '12px';
          btn.style.textDecoration = 'none';
          btn.style.border = '1px solid rgba(255,255,255,0.15)';
          btn.style.boxShadow = '0 6px 20px rgba(0,0,0,0.35)';
          btn.style.zIndex = '50';
          document.body.appendChild(btn);
        }
      })();
    });
  </script>
</body>
</html>